########### CMakeMaker autogenerated file ###########
cmake_minimum_required(VERSION 3.6)
find_program(CCACHE_PROGRAM ccache)
if(CCACHE_PROGRAM)
  set_property(GLOBAL PROPERTY RULE_LAUNCH_COMPILE "${CCACHE_PROGRAM}")
endif()

project(cmakemaker_solution CXX)

set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
macro(add_msvc_precompiled_header PrecompiledHeader PrecompiledSource SourcesVar)
endmacro(add_msvc_precompiled_header)

set(LIBRARY_OUTPUT_PATH Build_Output/libs CACHE PATH "Lib path")
set(EXECUTABLE_OUTPUT_PATH Build_Output/bin CACHE PATH "Exe path")
mark_as_advanced(LIBRARY_OUTPUT_PATH EXECUTABLE_OUTPUT_PATH)
add_definitions(-DUNICODE -D_UNICODE)

if (WIN32)
  add_definitions(-DWindowsBuild)
  set(CMAKE_CXX_FLAGS  "${CMAKE_CXX_FLAGS} -MP /std:c++17 -O3 -Wall -Werror")
else(WIN32)
  add_definitions(-DUnixBuild)
  set(CMAKE_CXX_FLAGS  "${CMAKE_CXX_FLAGS} -std=c++17 -O3 -Wall -Werror")
endif(WIN32)

find_program(CMAKEMAKER_CMD cmakemaker)
if(NOT CMAKEMAKER_CMD)
  add_custom_target(
    ALL_PRE_BUILD
    WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  )
else()
  add_custom_target(
    ALL_PRE_BUILD
    COMMAND ${CMAKEMAKER_CMD}
    WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  )
endif()

add_subdirectory(./app_ecs_game_engine)
add_subdirectory(./cmd_fract_cooking)
add_subdirectory(./slib_sound)
add_subdirectory(./slib_gui)
add_subdirectory(./slib_physics)
add_subdirectory(./slib_core)
add_subdirectory(./slib_input)
add_subdirectory(./slib_graphics)
if (MSVC)
  set_property(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR} PROPERTY VS_STARTUP_PROJECT ecs_game_engine)
endif(MSVC)
add_custom_command(TARGET ALL_PRE_BUILD PRE_BUILD
  COMMAND ${CMAKE_COMMAND} ARGS -E copy_if_different "${CMAKE_BINARY_DIR}/compile_commands.json" "${CMAKE_SOURCE_DIR}/compile_commands.json"
  COMMAND cat ${CMAKE_SOURCE_DIR}/compile_commands.json > ${CMAKE_SOURCE_DIR}/.clang_complete_tmp VERBATIM
  COMMAND sed "s/-/\\n-/g" ${CMAKE_SOURCE_DIR}/.clang_complete_tmp > ${CMAKE_SOURCE_DIR}/.clang_complete VERBATIM
  COMMAND sort ${CMAKE_SOURCE_DIR}/.clang_complete | uniq > ${CMAKE_SOURCE_DIR}/.clang_complete_tmp
  COMMAND sed "/^-o/d" ${CMAKE_SOURCE_DIR}/.clang_complete_tmp > ${CMAKE_SOURCE_DIR}/.clang_complete VERBATIM
  COMMAND sed "/^-c/d" ${CMAKE_SOURCE_DIR}/.clang_complete > ${CMAKE_SOURCE_DIR}/.clang_complete_tmp VERBATIM
  COMMAND sed "/^ /d" ${CMAKE_SOURCE_DIR}/.clang_complete_tmp > ${CMAKE_SOURCE_DIR}/.clang_complete VERBATIM
  COMMAND sed "/^\{/d" ${CMAKE_SOURCE_DIR}/.clang_complete > ${CMAKE_SOURCE_DIR}/.clang_complete_tmp VERBATIM
  COMMAND sed "/^\}/d" ${CMAKE_SOURCE_DIR}/.clang_complete_tmp > ${CMAKE_SOURCE_DIR}/.clang_complete VERBATIM
  COMMAND sed "/^\\[/d" ${CMAKE_SOURCE_DIR}/.clang_complete > ${CMAKE_SOURCE_DIR}/.clang_complete_tmp VERBATIM
  COMMAND sed "/^\\]/d" ${CMAKE_SOURCE_DIR}/.clang_complete_tmp > ${CMAKE_SOURCE_DIR}/.clang_complete VERBATIM
  COMMAND rm ${CMAKE_SOURCE_DIR}/.clang_complete_tmp
)